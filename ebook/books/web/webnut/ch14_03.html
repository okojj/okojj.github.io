<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 14] 14.3 Results Processing</TITLE>
<meta name="author" content="Stephen Spainhour and Valerie Quercia">
<meta name="date" content="Fri Aug 29 18:11:12 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="Webmaster in a Nutshell">
<meta name="title" content="Webmaster in a Nutshell">
<meta http-equiv="Content-Script-Type" content="text/javascript">
</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><a href='index.html'><img src="gifs/smbanner.gif" alt="Webmaster in a Nutshell" border=0></a></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch14_02.html"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 14<br>Windows CGI</FONT></B></TD>
<td width=172 align=right valign=top><a href="ch15_01.html"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>
<!-- JavaScript: prev.js -->
&nbsp;
<!-- JavaScript: next.js -->
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="WEB-CH-14-SECT-3">14.3 Results Processing</A></h2>

<p class=para>
The CGI program returns its results to the server as a data stream
representing (directly or indirectly) the goal of the request.
The data stream consists of two parts: the <i class=emphasis>header</I> and the
<i class=emphasis>body</I>. The header consists of one or more lines of text, and is
separated from the body by a blank line. The body contains
MIME-conforming data whose content type
must be reflected in the header.

<p class=para>
The server recognizes the following header lines in the results data
stream:

<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal>Content-Type:</tt><br>
<dd>

<p class=para>
Indicates that the body contains data of the specified MIME content
type. The value must be a MIME content type/subtype.

<p>
<dt class=varlistentry><tt class=literal>URI: &lt;</tt><i class=emphasis>value</I><tt class=literal>&gt;</tt> (value enclosed in angle brackets)<br>
<dd>

<p class=para>
The value is either a full URL or a local file reference, either of which
points to an object to be returned to the client in lieu of the body.
If the value is a 
local file, the server sends it as the results of the request, as though
the client issued a GET for that object.
If the value is a full URL,
the server returns a "401 redirect" to the
client to retrieve the specified object directly. 

<p>
<dt class=varlistentry><tt class=literal>Location:</tt><br>
<dd>

<p class=para>
Same as URI, but this form is now deprecated. The value must
<i class=emphasis>not</I> be enclosed in angle brackets with this form.</DL>
<p class=para>
Any other headers in the result stream are passed 
unmodified by the server to the client. It is the responsibility of
the CGI program to avoid including headers that clash with those
used by HTTP. 

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="WEB-CH-14-SECT-3.1">Direct Return</A></h3>

<p class=para>
The server provides for the CGI program to return its results directly
to the client, bypassing the server's "packaging" of the data stream for
its information protocol. In this case, it is the responsibility of the
CGI program to generate a complete message packaged for HTTP.

<p class=para>
The server looks at the results in the output file, and if the first
line starts with "<tt class=literal>HTTP/1.0</tt>", it assumes that the results
contain a complete HTTP response, and sends the results to the
client without packaging.

</DIV>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch14_02.html"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.html"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td>
<td width=172 align=right valign=top><a href="ch15_01.html"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>The CGI Data File</td>
<td width=171 align=center valign=top><a href="index/idx_0.html"><img src='gifs/index.gif' alt='Book Index' border=0></a></td>
<td width=172 align=right valign=top>Perl Quick Reference</td>
</tr>
</table>
<hr align=left width=515>

<img src="gifs/smnavbar.gif" usemap="#map" border=0> 
<map name="map"> 
<area shape="Rect" coords="0,0,45,20" href="../html/index.html" alt="HTML: The Definitive Guide">
<area shape="Rect" coords="46,0,164,37" href="../cgi/index.html" alt="CGI Programming">
<area shape="Rect" coords="163,0,248,32" href="../jscript/index.html" alt="JavaScript: The Definitive Guide">
<area shape="Rect" coords="247,0,371,44" href="../perl/index.html" alt="Programming Perl">
<area shape="Rect" coords="371,0,524,46" href="index.html" alt="WebMaster in a Nutshell">
</MAP>
</DIV>

</BODY>
</HTML>
