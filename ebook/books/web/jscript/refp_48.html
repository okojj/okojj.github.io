<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 21] Reference: Date</TITLE>
<meta name="author" content="David Flanagan">
<meta name="date" content="Fri Aug 29 11:14:23 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="JavaScript">
<meta name="title" content="JavaScript: The Definitive Guide">
<meta http-equiv="Content-Script-Type" content="text/javascript">
</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><a href='index.html'><img src="gifs/smbanner.gif" alt="JavaScript: The Definitive Guide" border=0></a></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="refp_47.html"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 21<br>JavaScript Reference</FONT></B></TD>
<td width=172 align=right valign=top><a href="refp_49.html"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>

&nbsp;
<hr align=left width=515>
</DIV>
<div class=refnamediv>
<h1>Date Object</H1>

<h2>Name</H2>

Date Object---manipulate dates and times

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.89">Availability</A></h2>

<p class=para>
Navigator 2.0, Internet Explorer 3.0

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="JSCRIPT-REF-DATE-SYN">Constructor</A></h2>

<p class=para>
<a name="REF.4"></A>
To create a Date object, use one of the following five syntaxes:
<div class=programlisting>
<p>
<pre>
new Date();
new Date(<tt class=replaceable><i>milliseconds</i></tt>)
new Date(<tt class=replaceable><i>datestring</i></tt>);
new Date(<tt class=replaceable><i>year</i></tt>, <tt class=replaceable><i>month</i></tt>, <tt class=replaceable><i>day</i></tt>);
new Date(<tt class=replaceable><i>year</i></tt>, <tt class=replaceable><i>month</i></tt>, <tt class=replaceable><i>day</i></tt>, <tt class=replaceable><i>hours</i></tt>, <tt class=replaceable><i>minutes</i></tt>, <tt class=replaceable><i>seconds</i></tt>)
</PRE>
</DIV>

<p class=para>
With no arguments, the <tt class=literal>Date()</tt> constructor
creates a <tt class=literal>Date</tt> object set to the current date and
time. Otherwise, the arguments to <tt class=literal>Date()</tt>
specify the date, and, optionally, the time for the new object. Note
that in the third through fifth syntaxes above, the specified times
are interpreted as local times, not Greenwich Mean Time (GMT)
times. 

<p class=para>
<tt class=literal>Date()</tt> can also be used as a function instead of a
constructor.
When invoked without the <tt class=literal>new</tt> operator,
and without any arguments, <tt class=literal>Date()</tt> does not create a
Date object but instead returns a string that represents the current
date and time for the local time zone. Calling
<tt class=literal>Date()</tt> without the <tt class=literal>new</tt> operator is equivalent to
using it with the <tt class=literal>new</tt> operator to create a Date
object and then using the <tt class=literal>toString()</tt> method of that
object to convert the date to a string.

<p class=para>
When used as a constructor, the arguments to <tt class=literal>Date()</tt>,
are the following:

<div class=refsect2>
<h3 class=refsect2><a class="TITLE" name="refpages-REFSECT2-AUTOID.15">Arguments</A></h3>

<dl class=variablelist>
<dt class=varlistentry><tt class=replaceable><i>milliseconds</i></tt><br>
<dd>

<p class=para>
The number of milliseconds between the desired date and
midnight GMT on January 1st, 1970. For example passing
the argument 5000 would create a date that represents five
seconds past midnight on 1/1/70.

<p>
<dt class=varlistentry><tt class=replaceable><i>datestring</i></tt><br>
<dd>

<p class=para>
A single argument that specifies the date and, optionally,
the time as a String. The string should have the format
<tt class=replaceable><i>month</i></tt> <tt class=replaceable><i>day</i></tt>,
<tt class=replaceable><i>year</i></tt> 
<tt class=replaceable><i>hours</i></tt>:<tt class=replaceable><i>minutes</i></tt>:<tt class=replaceable><i>seconds</i></tt>
where <tt class=replaceable><i>month</i></tt> is the English name of the month, and hours are
specified in 24-hour format. For example:

<div class=programlisting>
<p>
<pre>
new Date("December 31, 1999 23:59:59");
</PRE>
</DIV>

<p class=para>
The seconds field or the entire time specification may be
omitted from this format.

<p>
<dt class=varlistentry><tt class=replaceable><i>year</i></tt><br>
<dd>

<p class=para>
	      The year, in four-digit format. For example, specify
	      <tt class=literal>2001</tt> for the year 2001. For years
	      within the 20th century, you can also subtract 1900 and
	      specify the date in two-digit format. For example, you
	      could specify <tt class=literal>97</tt> for the year 1997.

<p>
<dt class=varlistentry><tt class=replaceable><i>month</i></tt><br>
<dd>

<p class=para>
The month, specified as an integer from 0 (January) to 11 (December)

<p>
<dt class=varlistentry><tt class=replaceable><i>day   </i></tt><br>
<dd>

<p class=para>
The day of the month, specified as an integer from 1 to 31.
Note that this argument uses 1 as its lowest value, while
other arguments use 0 as their lowest value.

<p>
<dt class=varlistentry><tt class=replaceable><i>hours</i></tt><br>
<dd>

<p class=para>
The hour, specified as an integer from 0 (midnight) to 23
(11 p.m.).

<p>
<dt class=varlistentry><tt class=replaceable><i>minutes</i></tt><br>
<dd>

<p class=para>
The minutes in the hour, specified as an integer from 0 to 59.

<p>
<dt class=varlistentry><tt class=replaceable><i>seconds</i></tt><br>
<dd>

<p class=para>
The seconds in the minute, specified as an integer from 0 to
59.</DL>
</DIV>

<div class=refsect2>
<h3 class=refsect2><a class="TITLE" name="refpages-REFSECT2-AUTOID.16">Returns</A></h3>

<p class=para>
The newly created <tt class=literal>Date</tt> object.

</DIV>

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.90">Methods</A></h2>

<p class=para>
      Once a Date object is created by using <tt class=literal>Date()</tt>
      as a constructor in any of the forms shown above, any of the
      following methods can be used to operate on the Date object. Note
      that unlike most JavaScript objects, the Date object has no
      properties that can be read and written directly; instead, all
      access to date and time fields is done through these methods.
    

<p>
<dl class=variablelist>
<dt class=varlistentry><tt class=literal><a href="refp_49.html">getDate()</a></tt><br>
<dd>

<p class=para>
Return the day of the month of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_50.html">getDay()</a></tt><br>
<dd>

<p class=para>
Return the day of the week of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_51.html">getHours()</a></tt><br>
<dd>

<p class=para>
Return the hours field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_52.html">getMinutes()</a></tt><br>
<dd>

<p class=para>
Return the minutes field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_53.html">getMonth()</a></tt><br>
<dd>

<p class=para>
Return the month field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_54.html">getSeconds()</a></tt><br>
<dd>

<p class=para>
Return the seconds field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_56.html">getTime()</a></tt><br>
<dd>

<p class=para>
Return the internal, millisecond representation of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_56.html">getTimezoneOffset()</a></tt><br>
<dd>

<p class=para>
Return the time zone difference, in minutes, between this date
and GMT.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_57.html">getYear()</a></tt><br>
<dd>

<p class=para>
Return the year field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_58.html">parse()</a></tt><br>
<dd>

<p class=para>
Parse a string representation of a date, and return it in
millisecond format.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_60.html">setDate()</a></tt><br>
<dd>

<p class=para>
Set the day of the month field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_61.html">setHours()</a></tt><br>
<dd>

<p class=para>
Set the hour field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_62.html">setMinutes()</a></tt><br>
<dd>

<p class=para>
Set the minutes field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_63.html">setMonth()</a></tt><br>
<dd>

<p class=para>
Set the month field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_64.html">setSeconds()</a></tt><br>
<dd>

<p class=para>
Set the seconds field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_65.html">setTime()</a></tt><br>
<dd>

<p class=para>
Set the fields of a Date object using the millisecond format.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_66.html">setYear()</a></tt><br>
<dd>

<p class=para>
Set the year field of a Date object.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_67.html">toGMTString()</a></tt><br>
<dd>

<p class=para>
Convert a Date to a string, using the GMT time zone.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_68.html">toLocaleString()</a></tt><br>
<dd>

<p class=para>
Convert a Date to a string, using the local time zone.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_69.html">UTC()</a></tt><br>
<dd>

<p class=para>
Convert a numeric date and time specification to millisecond
format.</DL>
</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.91">Description</A></h2>

<p class=para>
The Date object is a datatype built into the JavaScript language. Unlike
most other JavaScript object types, the Date object does not represent
any HTML construct in the current document. Instead, it is an
independent object that can be created and manipulated freely by
JavaScript code. Date objects are created with the <tt class=literal>new
Date()</tt> syntax shown in the <a href="#JSCRIPT-REF-DATE-SYN">Constructor</A> section above.

<p class=para>
Note that when the <tt class=literal>Date()</tt> constructor is used without
the <tt class=literal>new</tt> operator, and is called with no arguments, it
does not create a Date object but instead simply returns a string
containing the current date and time in the local time zone. Calling
<tt class=literal>Date()</tt> in this way is equivalent to creating a Date
object to represent the current date and time and then calling the
<tt class=literal>toString()</tt> method of that object:

<div class=programlisting>
<p>
<pre>
(new Date()).toString()
</PRE>
</DIV>

<p class=para>
Once a Date object is created, there are a number of methods that allow
you to operate on it. Most of the methods simply allow you to get and
set the year, month, day, hour, minute, and second fields of the
object. The <tt class=literal>toGMTString()</tt> and
<tt class=literal>toLocaleString()</tt> methods convert dates to
human-readable strings. <tt class=literal>getTime()</tt> and
<tt class=literal>setTime()</tt> convert to and from the internal
representation of the Date object--the number of milliseconds since
midnight (GMT) on January 1st, 1970. In this standard "millisecond
format", a date and time are represented by a single integer, which
makes date arithmetic particularly easy.

<p class=para>
Most of the Date object methods are invoked through an
instance of the Date object. For example:

<div class=programlisting>
<p>
<pre>
d = new Date();  //<tt class=replaceable><i> get today's date and time</i></tt>
system.write('Today is: " + d.toLocaleString());  //<tt class=replaceable><i> and print it out</i></tt>
</PRE>
</DIV>

<p class=para>
There are two functions, however, that have <tt class=literal>Date</tt> in
their name, but are not methods, and do not operate on a
Date object. These functions, <tt class=literal>Date.parse()</tt> and
<tt class=literal>Date.UTC()</tt>, are useful for converting dates to
millisecond format. Note though that they do not use the
Date object, and are therefore not invoked through a Date
object.

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.92">Usage</A></h2>

<p class=para>
Because JavaScript code may be run on machines all over the
world, you need to pay attention to time zone differences.
The syntax for creating Date objects shown above assumes
that date and time values are specified in local time.
While this is appropriate in some cases, there are many
cases when it is not. When your code must work the same
independently of the time zone in which it is run, you should
specify all your hardcoded dates in the GMT (or UTC)
time zone. You can then use the <tt class=literal>Date.UTC()</tt> method to
convert these date specifications to a time zone-independent
number of milliseconds. You can then use this number of
milliseconds directly, or can use it to create a Date object.

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.93">Bugs</A></h2>

<p class=para>
In Navigator 2.0, the Date object has quite a few bugs and is almost
unusable. On Macintosh platforms, the time returned is off by an
hour. There appears to be something wrong with the Navigator implementation 
of <tt class=literal>Date.toGMTString</tt>. On all platforms, time zones are not
handled well, and prior to version 2.0.2, there are difficulties
handling daylight savings time. A side effect of this is that
Navigator 2.0 and 2.0.1 cannot correctly determine whether a document
on a server is newer than the cached version and so the Reload button
does not always work correctly.

<p class=para>
You can usually use the Date object to print out the current date,
and you can use it to compute the interval (in milliseconds) between
two dates or times in the same time zone, but you should probably not
attempt more sophisticated uses of it than that.

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.94">Example</A></h2>

<p class=para>
The most common use of the Date object (and probably the
only particularly interesting use) is to subtract the
millisecond representations of the current time from some
other time to determine the difference between the two
times. The following example shows two such uses:

<div class=programlisting>
<p>
<pre>
&lt;SCRIPT language="JavaScript"&gt;
today = new Date(); make a note of today's date
christmas = new Date(); get a date with the current year
christmas.setMonth(11); set the month to December...
christmas.setDate(25);  ...and the day to the 25th
//<tt class=replaceable><i> If Christmas hasn't already passed, compute the number of</i></tt>
//<tt class=replaceable><i> milliseconds between now and Christmas, then convert this</i></tt>
//<tt class=replaceable><i> to a number of days and print a message.</i></tt>
if (today.getTime() &lt; christmas.getTime()) { 
    difference = christmas.getTime() - today.getTime();
    difference = Math.floor(difference / (1000 * 60 * 60 * 24));
    document.write('Only ' + difference + ' days until Christmas!&lt;P&gt;');
}
&lt;/SCRIPT&gt;
   ... rest of HTML document here ..
&lt;SCRIPT language="JavaScript"&gt;
//<tt class=replaceable><i> Here we use Date objects for timing. We divide by 1000</i></tt>
//<tt class=replaceable><i> to convert milliseconds to seconds. We could divide</i></tt>
//<tt class=replaceable><i> further to convert to minutes, hours or days.</i></tt>
now = new Date();
document.write('&lt;P&gt;It took ' + 
    (now.getTime()-today.getTime())/1000 +
    'seconds to load this page.');
&lt;/SCRIPT&gt;
</PRE>
</DIV>

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.95">See Also</A></h2>

<p class=para>
<a href="refp_58.html">"Date.parse()"</A>,
<a href="refp_69.html">"Date.UTC()"</A>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="refp_47.html"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.html"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td>
<td width=172 align=right valign=top><a href="refp_49.html"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>confirm()</td>
<td width=171 align=center valign=top><a href="index/idx_0.html"><img src='gifs/index.gif' alt='Book Index' border=0></a></td>
<td width=172 align=right valign=top>Date.getDate()</td>
</tr>
</table>
<hr align=left width=515>

<img src="gifs/smnavbar.gif" usemap="#map" border=0> 
<map name="map"> 
<area shape="Rect" coords="0,0,45,20" href="../html/index.html" alt="HTML: The Definitive Guide">
<area shape="Rect" coords="46,0,164,37" href="../cgi/index.html" alt="CGI Programming">
<area shape="Rect" coords="163,0,248,32" href="index.html" alt="JavaScript: The Definitive Guide">
<area shape="Rect" coords="247,0,371,44" href="../perl/index.html" alt="Programming Perl">
<area shape="Rect" coords="371,0,524,46" href="../webnut/index.html" alt="WebMaster in a Nutshell">
</MAP>
</DIV>

</BODY>
</HTML>
