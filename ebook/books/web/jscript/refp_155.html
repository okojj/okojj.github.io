<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 21] Reference: History</TITLE>
<meta name="author" content="David Flanagan">
<meta name="date" content="Fri Aug 29 11:16:25 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="JavaScript">
<meta name="title" content="JavaScript: The Definitive Guide">
<meta http-equiv="Content-Script-Type" content="text/javascript">
</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><a href='index.html'><img src="gifs/smbanner.gif" alt="JavaScript: The Definitive Guide" border=0></a></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="refp_154.html"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 21<br>JavaScript Reference</FONT></B></TD>
<td width=172 align=right valign=top><a href="refp_156.html"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>

&nbsp;
<hr align=left width=515>
</DIV>
<div class=refnamediv>
<h1>History Object</H1>

<h2>Name</H2>

History Object---the URL history of the browser

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.384">Availability</A></h2>

<p class=para>
Navigator 2.0, Internet Explorer 3.0; enhanced in
Navigator 3.0 when data tainting is enabled<a name="H"></A>

</DIV>

<div class=refsynopsisdiv>
<h2>Synopsis</H2>

<div class=synopsis>
<p>
<pre>
<tt class=replaceable><i>window</i></tt>.history
<tt class=replaceable><i>frame</i></tt>.history
history
</PRE>
</DIV>

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.385">Properties</A></h2>

<dl class=variablelist>
<dt class=varlistentry><tt class=literal>current</tt><br>
<dd>

<p class=para>
A string that specifies the URL of the current document.
Only available with data tainting enabled in Navigator 3.0.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_160.html">length</a></tt><br>
<dd>

<p class=para>
The number of URLs that are saved in the History object.

<p>
<dt class=varlistentry><tt class=literal>next</tt><br>
<dd>

<p class=para>
A string that specifies the URL of the document after this
one in the history list. Only available with data tainting
enabled in Navigator 3.0.

<p>
<dt class=varlistentry><tt class=literal>previous</tt><br>
<dd>

<p class=para>
A string that specifies the URL of the document before this
one in the history list. Only available with data tainting
enabled in Navigator 3.0.</DL>
</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.386">Methods</A></h2>

<dl class=variablelist>
<dt class=varlistentry><tt class=literal><a href="refp_156.html">back()</a></tt><br>
<dd>

<p class=para>
Go backwards to a previously visited URL.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_158.html">forward()</a></tt><br>
<dd>

<p class=para>
Go forward to a previously visited URL.

<p>
<dt class=varlistentry><tt class=literal><a href="refp_159.html">go()</a></tt><br>
<dd>

<p class=para>
Go to a previously visited URL.

<p>
<dt class=varlistentry><tt class=literal>toString()</tt><br>
<dd>

<p class=para>
Return an HTML-formatted table containing the window's
browsing history. Only available with data tainting enabled
in Navigator 3.0.</DL>
</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.387">Description</A></h2>

<p class=para>
The History object is a read-only array of strings that
specify the URLs that have been previously visited by the
browser. The contents of this array are equivalent to the
URLs listed in Navigator's <b>Go</b> menu. For security and
privacy reasons, the contents of the array are not available
to JavaScript in Navigator 2.0, or in Navigator 3.0 when the
data-tainting security model is not enabled.

<p class=para>
In Navigator 2.0, and Navigator 3.0 without data tainting
enabled, JavaScript can use the <tt class=literal>length</tt> property to
determine the number of entries on the History object's URL
list, and can use the <tt class=literal>back()</tt>, <tt class=literal>forward()</tt> and
<tt class=literal>go()</tt> methods to cause the browser to revisit any of
the URLs in the array, but it cannot directly or indirectly
read the URLs stored in the array.

<p class=para>
In Navigator 3.0 and later, when the data-tainting security model is
enabled, the elements of the array are available and may be read (but
not changed). Also, the <tt class=literal>current</tt>,
<tt class=literal>next</tt>, and <tt class=literal>previous</tt> properties
are available. These properties are strings that specify the URL of
the current document, and the URLs of the documents that precede and
follow it in the history array. Finally, enabling data tainting also
makes the <tt class=literal>toString()</tt> method of the History
object functional. This method returns a string of HTML text. When
this string is formatted by a browser (i.e., written with
<tt class=literal>document.write()</tt>), it displays the
browser history as a table of URLs, each with an appropriate
hyperlink.

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.388">Usage</A></h2>

<p class=para>
You can use the History object to implement your own <b>Forward</b> and <b>Back</b>
buttons, or other navigation controls, within a window. This is most
often useful for sites that use frames. With data tainting enabled,
more sophisticated navigation aids are possible.

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.389">Example</A></h2>

<p class=para>
With or without data tainting, you can use the
<tt class=literal>back()</tt>, <tt class=literal>forward()</tt>, and <tt class=literal>go()</tt>
methods of the History object. The following line performs
the same action as clicking the <b>Back</b> button:
<div class=programlisting>
<p>
<pre>
history.back();
</PRE>
</DIV>

<p class=para>
The following performs the same action as clicking the
<b>Back</b> button twice:
<div class=programlisting>
<p>
<pre>
history.go(-2);
</PRE>
</DIV>

<p class=para>
With data tainting enabled, you can access the history
object as an array and read URLs directly. The first URL
displayed by the current window is:
<div class=programlisting>
<p>
<pre>
history[0]
</PRE>
</DIV>

<p class=para>
The last URL displayed by that window is:
<div class=programlisting>
<p>
<pre>
history[history.length-1]
</PRE>
</DIV>

<p class=para>
The currently displayed URL is:
<div class=programlisting>
<p>
<pre>
history.current
</PRE>
</DIV>

<p class=para>
And the URLs of the documents before and after that one in
the history array are:
<div class=programlisting>
<p>
<pre>
history.previous
history.next
</PRE>
</DIV>

</DIV>

<div class=refsect1>
<h2 class=refsect1><a class="TITLE" name="refpages-REFSECT1-AUTOID.390">See Also</A></h2>

<p class=para>
<a href="refp_208.html">"Location"</A>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="refp_154.html"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.html"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td>
<td width=172 align=right valign=top><a href="refp_156.html"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>history</td>
<td width=171 align=center valign=top><a href="index/idx_0.html"><img src='gifs/index.gif' alt='Book Index' border=0></a></td>
<td width=172 align=right valign=top>History.back()</td>
</tr>
</table>
<hr align=left width=515>

<img src="gifs/smnavbar.gif" usemap="#map" border=0> 
<map name="map"> 
<area shape="Rect" coords="0,0,45,20" href="../html/index.html" alt="HTML: The Definitive Guide">
<area shape="Rect" coords="46,0,164,37" href="../cgi/index.html" alt="CGI Programming">
<area shape="Rect" coords="163,0,248,32" href="index.html" alt="JavaScript: The Definitive Guide">
<area shape="Rect" coords="247,0,371,44" href="../perl/index.html" alt="Programming Perl">
<area shape="Rect" coords="371,0,524,46" href="../webnut/index.html" alt="WebMaster in a Nutshell">
</MAP>
</DIV>

</BODY>
</HTML>
