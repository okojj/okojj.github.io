<!doctype html public "-//ORA//DTD CD HTML 3.2//EN">
<html>
<head>
<title>[Chapter 7] 7.6 Creating Searchable Documents</TITLE>
<meta name="author" content="Chuck Musciano and Bill Kennedy">
<meta name="date" content="Fri Sep  5 13:19:19 1997">
<meta name="form" content="html">
<meta name="metadata" content="dublincore.0.1">
<meta name="objecttype" content="book part">
<meta name="otheragent" content="gmat dbtohtml">
<meta name="publisher" content="O'Reilly &amp; Associates, Inc.">
<meta name="source" content="SGML">
<meta name="subject" content="HTML">
<meta name="title" content="HTML: The Definitive Guide">
<meta http-equiv="Content-Script-Type" content="text/javascript">
</HEAD>
<body bgcolor="#FFFFFF">

<div class=htmlnav>
<h1><a href='index.html'><img src="gifs/smbanner.gif" alt="HTML: The Definitive Guide" border=0></a></H1>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch07_05.html"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><b><font face="ARIEL,HELVETICA,HELV,SANSERIF" size="-1">Chapter 7<br>Links and Webs</FONT></B></TD>
<td width=172 align=right valign=top><a href="ch07_07.html"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
</table>

&nbsp;
<hr align=left width=515>
</DIV>
<div class=sect1>
<h2 class=sect1><a class="TITLE" name="HTML-CH-7-SECT-6">7.6 Creating Searchable Documents</A></h2>

<p class=para>
Another extensible
form of an HTML link that does not use the <tt>&lt;a&gt;</TT>
tag is one that causes the server to search a database for a document
that contains a user-specified keyword or words. An HTML document
that contains such a link is known as a <i class=emphasis>searchable</I>
document.

<div class=sect2>
<h3 class=sect2><a class="TITLE" name="HTML-CH-7-SECT-6.1">The <tt>&lt;isindex&gt;</TT> Tag</A></h3>

<p class=para>
For a searchable document designated
by the <tt>&lt;isindex&gt;</TT> tag, the browser provides a way
for the user to enter one or more search terms and passes those
key words along with a search-engine's URL to the server.
The server matches the keywords against a database of terms to select
the next document for display.

<div class=sidebar>
<p class=sidebar><blockquote><tt>&lt;isindex&gt;</TT>

<dl class=variablelist>
<dt class=varlistentry>Function:<br>
<dd>

<p class=para>
Indicates that a document can be searched

<p>
<dt class=varlistentry>Attributes:<br>
<dd>

<div class=simplelist>

<p>
ACTION (Internet Explorer)<br>
PROMPT<br>
</DIV>

<p>
<dt class=varlistentry>End tag:<br>
<dd>

<p class=para>
None

<p>
<dt class=varlistentry>Contains:<br>
<dd>

<p class=para>
Nothing

<p>
<dt class=varlistentry>Used in:<br>
<dd>

<p class=para>
<i class=emphasis>head_content</I></DL>
</BLOCKQUOTE><p>
</DIV>

<p class=para>
When a browser encounters the <tt>&lt;isindex&gt;</TT>
tag, it adds a standard search interface to the document (rendered
by Netscape in <a href="#HTML-CH-7-FIG-8">Figure 7.8</A>).

<div class=screen>
<p>
<pre>
&lt;html&gt;
&lt;head&gt;
&lt;title&gt;Kumquat Advice Database&lt;/title&gt;
&lt;base href="cgi-bin/quat-query"&gt;
&lt;isindex&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h3&gt;Kumquat Advice Database&lt;/h3&gt;
&lt;p&gt;
Search this database to learn more about kumquats!
&lt;/body&gt;
&lt;/html&gt;
</PRE>
</DIV>

<div class=figure>
<h4 class=figure><a class="TITLE" name="HTML-CH-7-FIG-8">Figure 7.8: A searchable document</A></h4>


<p>
<img align=middle src="figs/h2_0708.gif" alt="[Graphic: Figure 7-8]" width=500 height=177 border=0>

</DIV>

<p class=para>
The user types a list of space-separated
keywords into the field provided. When the user presses the return
key, the browser automatically appends the query list to the end
of a URL and passes the information along to the server for further
processing.

<p class=para>
While the HTML standard only allows the
<tt>&lt;isindex&gt;</TT> tag to be placed in the document header,
most browsers let the tag appear anywhere in the document and inserts
the search field in the content flow where the <tt>&lt;isindex&gt;</TT>
tag appears. This convenient extension lets you add instructions
and other useful elements before presenting the user with the actual
search field.

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="HTML-CH-7-SECT-6.1.1">The prompt attribute</A></h4>

<p class=para>
The browser provides
a leading 
prompt
just above or to the left of the user-entry field. Netscape's
default prompt, for example, is, "This is a searchable
index. Enter search keywords:" (<a href="#HTML-CH-7-FIG-8">Figure 7.8</A>).
That default prompt is not the best for all occasions, so it is
possible to change it with the prompt attribute.

<p class=para>
When
added to the <tt>&lt;isindex&gt;</TT> tag, the value of the prompt
attribute is the string of text that precedes the keyword entry
field placed in the document by the browser.

<p class=para>
For example,
compare <a href="#HTML-CH-7-FIG-8">Figure 7.8</A>
with <a href="#HTML-CH-7-FIG-9">Figure 7.9</A>, in
which we added the following prompt to the previous source example:

<div class=screen>
<p>
<pre>
&lt;isindex prompt="To learn more about kumquats, enter a keyword:"&gt;
</PRE>
</DIV>

<div class=figure>
<h4 class=figure><a class="TITLE" name="HTML-CH-7-FIG-9">Figure 7.9: The prompt attribute creates custom prompts in searchable documents</A></h4>


<p>
<img align=middle src="figs/h2_0709.gif" alt="[Graphic: Figure 7-9]" width=500 height=114 border=0>

</DIV>

<p class=para>
Older browsers will ignore the prompt attribute,
but there is little reason not to include a better prompt string
for your more up-to-date readership.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="HTML-CH-7-SECT-6.1.2">The query URL</A></h4>

<p class=para>
Besides the <tt>&lt;isindex&gt;</TT>
tag in the header of a searchable document, the other important
element of this special HTML tag is the query URL. By default, it
is the URL of the source document itself--not good if your
document can't handle the query. Rather, most authors use
the <tt>&lt;base&gt;</TT> attribute to point to a different URL
for the search. [<a href="ch07_07.html#HTML-CH-7-SECT-7.1">the section called "The <tt>&lt;base&gt;</TT> Header Element"</A>]

<p class=para>
The browser appends a question
mark to the query URL, followed by the specified search parameters.
Nonprintable characters are appropriately encoded; multiple parameters
are separated by a plus sign (+).

<p class=para>
In the previous
example, if a user types "insect control" in the
search field, the browser would retrieve the URL:

<div class=screen>
<p>
<pre>
cgi-bin/quat-query?insect+control
</PRE>
</DIV>

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="HTML-CH-7-SECT-6.1.3">The action attribute</A></h4>

<p class=para>
For Internet Explorer
only, you can specify the query URL for the index with the 
action attribute. The effect is
exactly as if you had used the href attribute with the <tt>&lt;base&gt;</TT>
tag: the browser links to the specified URL with the search parameters
appended to the URL.

<p class=para>
While the action attribute provides
the desirable feature of divorcing the document's base
URL from the search index URL, it will cause your searches to fail
if the user is not using Internet Explorer. For this reason, we
do not recommend that you use the action attribute to specify the
query URL for the search.

</DIV>

<div class=sect3>
<h4 class=sect3><a class="TITLE" name="HTML-CH-7-SECT-6.1.4">Server dependencies</A></h4>

<p class=para>
Like image maps, searchable
documents require support from the server to make things work. How
the server interprets the query URL and its parameters is not defined
by the HTML standard.

<p class=para>
You should consult your server's
documentation to determine how you can receive and use the search
parameters to locate the desired document. Typically, the server
breaks the parameters out of the query URL and passes them to a
program 
designated by the
URL.

</DIV>

</DIV>

</DIV>


<div class=htmlnav>

<p>
<hr align=left width=515>
<table width=515 border=0 cellpadding=0 cellspacing=0>
<tr>
<td width=172 align=left valign=top><a href="ch07_05.html"><img src="gifs/txtpreva.gif" alt="Previous" border=0></A></td>
<td width=171 align=center valign=top><a href="index.html"><img src='gifs/txthome.gif' border=0 alt='Home'></a></td>
<td width=172 align=right valign=top><a href="ch07_07.html"><img src="gifs/txtnexta.gif" alt="Next" border=0></A></td>
</tr>
<tr>
<td width=172 align=left valign=top>Mouse-Sensitive Images</td>
<td width=171 align=center valign=top><a href="index/idx_0.html"><img src='gifs/index.gif' alt='Book Index' border=0></a></td>
<td width=172 align=right valign=top>Establishing Document Relationships</td>
</tr>
</table>
<hr align=left width=515>

<img src="gifs/smnavbar.gif" usemap="#map" border=0> 
<map name="map"> 
<area shape="Rect" coords="0,0,45,20" href="index.html" alt="HTML: The Definitive Guide">
<area shape="Rect" coords="46,0,164,37" href="../cgi/index.html" alt="CGI Programming">
<area shape="Rect" coords="163,0,248,32" href="../jscript/index.html" alt="JavaScript: The Definitive Guide">
<area shape="Rect" coords="247,0,371,44" href="../perl/index.html" alt="Programming Perl">
<area shape="Rect" coords="371,0,524,46" href="../webnut/index.html" alt="WebMaster in a Nutshell">
</MAP>
</DIV>

</BODY>
</HTML>
